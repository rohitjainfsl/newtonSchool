<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IPL Table</title>
    <link rel="stylesheet" href="iplTable.css" />
  </head>
  <body>
    <h1 class="title">IPL Season 2022 Points</h1>
    <table>
      <thead>
        <tr>
          <th>No</th>
          <th>Team</th>
          <th>Matches</th>
          <th>Won</th>
          <th>Lost</th>
          <th>Tied</th>
          <th>NRR</th>
          <th>Points</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <script>
      fetch("https://my-json-server.typicode.com/FreSauce/json-ipl/data")
        .then((response) => {
          return response.json();
        })
        .then((result) => {
            console.log(result)
          operateOnData(result);
        });

      function operateOnData(result) {
        const sortedPointsTable = result.sort((a, b) => {
          return a.NRR - b.NRR;
        });

        // console.log(sortedPointsTable)

        const tbody = document.querySelector("tbody");
        let output = "";

        sortedPointsTable.forEach((data) => {
          output +=
            "<tr><td>" +
            data.No +
            "</td><td>" +
            data.Team +
            "</td><td>" +
            data.Matches +
            "</td><td>" +
            data.Won +
            "</td><td>" +
            data.Lost +
            "</td><td>" +
            data.Tied +
            "</td><td>" +
            data.NRR +
            "</td><td>" +
            data.Points +
            "</td></tr>";
        });
        tbody.innerHTML = "";
        tbody.innerHTML = output;
      }














      //   fetch("https://randomuser.me/api")
      //     .then((response) => response.json())
      //     .then((result) => console.log(result))
      //     .catch((err) => {
      //       console.log(err);
      //     });

      // async function fetchData(){
      //     const response = await fetch('https://randomuser.me/api')
      //     const result = await response.json()
      //     console.log(result)
      // }

      // fetchData()

      //   function alarm() {
      //     // return new Promise((resolve, reject) => {});

      //     const val = new Promise()
      //   }

      


      


    </script>
  </body>
</html>
