<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>js Arrays</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    />
    <style>
      h1 {
        text-align: center;
        margin: 10px;
      }
      h3 {
        text-align: center;
      }
      #actions {
        margin: auto;
      }
      .btn {
        margin-bottom: 2px;
      }
    </style>
  </head>
  <body>
    <h1>JS Arrays 1</h1>
    <div class="row">
      <div class="col md-6">
        <h3>Array :</h3>
        <h3>[<span id="array"></span>]</h3>
      </div>
      <div class="col md-6" id="actions">
        <h3>Actions</h3>
        <button type="button" id="sort" class="btn btn-primary">Sort</button>
        <button type="button" id="revsort" class="btn btn-primary">
          Reverse Sort
        </button>
        <button type="button" id="first5" class="btn btn-primary">
          First 5
        </button>
        <button type="button" id="last5" class="btn btn-primary">Last 5</button>
        <button type="button" id="avg" class="btn btn-primary">Average</button>
      </div>
    </div>
    <script>
      window.onload = function () {
        init();
      };
      var arr = [];
      for (let i = 0; i < 10; i++) {
        arr.push(Math.floor(Math.random() * 100));
      }
      function init(params) {
        var ele = document.getElementById("array");
        console.log(arr);
        ele.innerText = arr;
      }

      const buttons = document.querySelectorAll("button");
      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          switch (btn.id) {
            case "sort":
              {
                const newArr = arr.sort((a, b) => {
                  return a - b;
                });
                console.log(newArr.toString());
              }
              break;
            case "revsort":
              {
                const newArr = arr.sort((a, b) => {
                  return b - a;
                });
                console.log(newArr.toString());
              }
              break;
            case "first5":
              {
                const newArr = arr.slice(0, 5);
                console.log(newArr.toString());
              }
              break;
            case "last5":
              {
                const newArr = arr.slice(arr.length - 5);
                console.log(newArr.toString());
              }
              break;
            case "avg":
              console.log(
                arr.reduce((prev, current) => {
                  return prev + current;
                }, 0) / arr.length
              );
              break;
          }
        });
      });
    </script>
  </body>
</html>
